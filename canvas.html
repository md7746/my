<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>

<body>
    <div id="d1">
        <canvas id="canvas"></canvas>
    </div>
    <script>
    window.onload = function() {
        function Circle() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height;
            this.r = Math.random() * 10;
            //绘制圆形
            this.paint = function() {
                context.beginPath();
                context.arc(this.x, this.y, this.r, 0, Math.PI * 2);
                context.fillStyle = "white";
                context.globalAlpha = 0.5;
                context.fill();
            }
            //控制圆形移动
            this.step = function() {
                this.y--;
            }
        }
        var circles = [];

        function createCircles() {
            var circle = new Circle();
            circles[circles.length] = circle;
        }

        function paintCircles() {
            for (var i = 0; i < circles.length; i++) {
                circles[i].paint();
            }
        }

        function stepCircles() {
            for (var i = 0; i < circles.length; i++) {
                circles[i].step();
            }
        }
        var canvas = document.getElementById("canvas");
        var context = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        var myimg = new Image();
        myimg.src = "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1524624350&di=a9ec85098645d1f3b384fc549e940e24&imgtype=jpg&er=1&src=http%3A%2F%2Fimgsrc.baidu.com%2Fimgad%2Fpic%2Fitem%2F5882b2b7d0a20cf4b1d42c0b7c094b36adaf999a.jpg";
        var timer = "";
        setInterval(function() {
            context.drawImage(myimg, 0, 0);
            timer++;
            if (timer % 20 == 0) {
                createCircles();
            }
            paintCircles();
            stepCircles();
        }, 10);
    }
    </script>
</body>

</html>